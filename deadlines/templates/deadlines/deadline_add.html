{% extends "deadlines/base.html" %}
{% load static %}
{% block title %}Add
Deadline - Business Deadlines{% endblock %}
{% block content %}
<div class="header">
  <div class="header-row">
    <h1>Add Deadline</h1>
  </div>
</div>

<div class="detail-content" style="background: #f5f5f5">
  <form method="post">
    {% csrf_token %}

    <div class="detail-card">
      <div class="form-group">
        <label class="form-label">Title *</label>
        <input
          type="text"
          name="title"
          class="form-input"
          required
          placeholder="e.g., Sales Tax Filing"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Entity *</label>
        <select name="entity" class="form-select" required>
          <option value="">Select entity...</option>
          {% for entity in entities %}
          <option value="{{ entity.pk }}">
            {{ entity.entity_code }} - {{ entity.dba_name|default:entity.legal_name }}
          </option>
          {% endfor %}
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Category</label>
        <select name="category" class="form-select">
          <option value="">Select category...</option>
          <option value="sales_tax">Sales Tax</option>
          <option value="utility">Utility</option>
          <option value="insurance">Insurance</option>
          <option value="license">License</option>
          <option value="loan">Loan Payment</option>
          <option value="rent">Rent</option>
          <option value="payroll">Payroll</option>
          <option value="tax">Tax Filing</option>
          <option value="report">Report</option>
          <option value="other">Other</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Frequency</label>
        <select name="frequency" class="form-select">
          <option value="">One-time</option>
          <option value="daily">Daily</option>
          <option value="weekly">Weekly</option>
          <option value="monthly">Monthly</option>
          <option value="quarterly">Quarterly</option>
          <option value="annually">Annually</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label">Next Due Date</label>
        <input type="date" name="next_due" class="form-input" />
      </div>

      <div class="form-group">
        <label class="form-label">Amount</label>
        <input
          type="number"
          step="0.01"
          name="amount"
          class="form-input"
          placeholder="0.00"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Account Number</label>
        <input
          type="text"
          name="account_number"
          class="form-input"
          placeholder="Optional"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Reminder (days before)</label>
        <input
          type="number"
          name="remind_days_before"
          class="form-input"
          value="7"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Notes</label>
        <textarea
          name="notes"
          class="form-textarea"
          placeholder="Optional notes..."
        ></textarea>
      </div>
    </div>

    <button type="submit" class="action-button">Create Deadline</button>
    <button
      type="button"
      onclick="history.back()"
      class="action-button secondary"
    >
      Cancel
    </button>
  </form>
</div>
{% endblock %}
